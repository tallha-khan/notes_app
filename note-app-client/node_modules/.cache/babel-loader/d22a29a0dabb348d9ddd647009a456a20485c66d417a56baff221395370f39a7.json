{"ast":null,"code":"import React,{useState}from\"react\";import api from\"../services/api\";import{useNavigate}from\"react-router-dom\";import\"../Login.css\";// Optional styling\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Login(){const navigate=useNavigate();const[form,setForm]=useState({email:\"\",name:\"\",dob:\"\"});const[otp,setOtp]=useState(\"\");const[step,setStep]=useState(1);const handleSendOtp=async()=>{try{const res=await api.post(\"/auth/signup\",form);alert(res.data.message);setStep(2);}catch(err){alert(\"‚ùå Failed to send OTP\");}};const handleVerify=async()=>{try{const res=await api.post(\"/auth/verify\",{email:form.email,otp});localStorage.setItem(\"token\",res.data.token);navigate(\"/dashboard\");}catch(err){alert(\"‚ùå Invalid OTP\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDD10 Login or Signup\"}),step===1?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Full Name\",value:form.name,onChange:e=>setForm({...form,name:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:form.email,onChange:e=>setForm({...form,email:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",placeholder:\"Date of Birth\",value:form.dob,onChange:e=>setForm({...form,dob:e.target.value}),required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-group\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSendOtp,children:\"\\uD83D\\uDCE9 Send OTP\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{window.location.href=\"http://localhost:5000/api/auth/google\";},className:\"google-btn\",children:\"\\uD83D\\uDD12 Login with Google\"})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u2705 OTP sent to \",form.email]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter OTP\",value:otp,onChange:e=>setOtp(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleVerify,children:\"\\u2705 Verify\"})]})]});}export default Login;","map":{"version":3,"names":["React","useState","api","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","navigate","form","setForm","email","name","dob","otp","setOtp","step","setStep","handleSendOtp","res","post","alert","data","message","err","handleVerify","localStorage","setItem","token","className","children","type","placeholder","value","onChange","e","target","required","onClick","window","location","href"],"sources":["C:/Users/Lenovo/Desktop/Project/note-app-client/src/pages/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport api from \"../services/api\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"../Login.css\"; // Optional styling\r\n\r\nfunction Login() {\r\n  const navigate = useNavigate();\r\n  const [form, setForm] = useState({\r\n    email: \"\",\r\n    name: \"\",\r\n    dob: \"\",\r\n  });\r\n  const [otp, setOtp] = useState(\"\");\r\n  const [step, setStep] = useState(1);\r\n\r\n  const handleSendOtp = async () => {\r\n    try {\r\n      const res = await api.post(\"/auth/signup\", form);\r\n      alert(res.data.message);\r\n      setStep(2);\r\n    } catch (err) {\r\n      alert(\"‚ùå Failed to send OTP\");\r\n    }\r\n  };\r\n\r\n  const handleVerify = async () => {\r\n    try {\r\n      const res = await api.post(\"/auth/verify\", {\r\n        email: form.email,\r\n        otp,\r\n      });\r\n      localStorage.setItem(\"token\", res.data.token);\r\n      navigate(\"/dashboard\");\r\n    } catch (err) {\r\n      alert(\"‚ùå Invalid OTP\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <h2>üîê Login or Signup</h2>\r\n      {step === 1 ? (\r\n        <>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Full Name\"\r\n            value={form.name}\r\n            onChange={(e) => setForm({ ...form, name: e.target.value })}\r\n            required\r\n          />\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            value={form.email}\r\n            onChange={(e) => setForm({ ...form, email: e.target.value })}\r\n            required\r\n          />\r\n          <input\r\n            type=\"date\"\r\n            placeholder=\"Date of Birth\"\r\n            value={form.dob}\r\n            onChange={(e) => setForm({ ...form, dob: e.target.value })}\r\n            required\r\n          />\r\n          <div className=\"button-group\">\r\n  <button onClick={handleSendOtp}>üì© Send OTP</button>\r\n  <button\r\n    onClick={() => {\r\n      window.location.href = \"http://localhost:5000/api/auth/google\";\r\n    }}\r\n    className=\"google-btn\"\r\n  >\r\n    üîí Login with Google\r\n  </button>\r\n</div>\r\n\r\n\r\n        </>\r\n      ) : (\r\n        <>\r\n          <p>‚úÖ OTP sent to {form.email}</p>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Enter OTP\"\r\n            value={otp}\r\n            onChange={(e) => setOtp(e.target.value)}\r\n          />\r\n          <button onClick={handleVerify}>‚úÖ Verify</button>\r\n\r\n          \r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}